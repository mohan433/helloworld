pipeline {
    agent any

    Stages {
       stages ('Compile Stages') {

          steps {
             withMaven(maven : 'apache-maven-3.6.3') }
               sh 'mvn clean compile'
             }
          }
       }
       stage ('testing Satge') {
          steps {
             withMaven(maven : 'apache-maven-3.6.3') }
                sh 'mvn test'
             }
          }
       }
       stage ('Deployment Satge') {
          steps {
             withMaven(maven : 'apache-maven-3.6.3') }
               sh 'mvn deployment'
             }
          }
       }
    }
 }